<?php
// 1. Критический шаг: Запускаем сессию, чтобы PHP загрузил данные, 
// которые были сохранены для этого пользователя.
session_start();

echo '<pre>';
print_r($_COOKIE);
echo '</pre>';

echo "<h1>Данные сессии на page2.php:</h1>";

// 2. Чтение данных
// Перед чтением всегда полезно проверить, существуют ли эти данные 
// в массиве $_SESSION с помощью функции isset().

if (isset($_SESSION['username']) && isset($_SESSION['fav_color'])) {
    
    $user = $_SESSION['username'];
    $color = $_SESSION['fav_color'];
    
    echo "<p><b>Имя пользователя:</b> " . htmlspecialchars($user) . "</p>";
    echo "<p><b>Любимый цвет:</b> " . htmlspecialchars($color) . "</p>";
    
    // Полезный совет: мы используем htmlspecialchars() для безопасного вывода данных,
    // даже если мы их сами сохранили. Это всегда хорошая привычка.

} else {
    echo "<p>К сожалению, данные сессии не найдены или сессия не была запущена.</p>";
}

// 3. Ссылка для выхода (завершения сессии)
echo '<p><a href="logout.php">Завершить сессию (выйти) >></a></p>';

?>